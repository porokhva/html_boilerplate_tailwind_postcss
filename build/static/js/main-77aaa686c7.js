"use strict";function asyncGeneratorStep(e,t,n,o,r,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(o,r)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var o=c.apply(e,i);function r(e){asyncGeneratorStep(o,t,n,r,a,"next",e)}function a(e){asyncGeneratorStep(o,t,n,r,a,"throw",e)}r(void 0)})}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("DOMContentLoaded",function(){new SmoothScroll('a[href*="#"]',{speed:300})}),window.onload=function(){var e=window.location.hash;if(e){var r=.01,a=window.pageYOffset,i=e.replace(/[^#]*(.*)/,"$1"),c=document.querySelector("".concat(e)).getBoundingClientRect().top,u=null;requestAnimationFrame(function e(t){null===u&&(u=t);var n=t-u,o=c<0?Math.max(a-n/r,a+c):Math.min(a+n/r,a+c);window.scrollTo(0,o),o!=a+c?requestAnimationFrame(e):location.hash=i})}},function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(e):e.SmoothScroll=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0,function(A){function I(){var n={};return Array.prototype.forEach.call(arguments,function(e){for(var t in e){if(!e.hasOwnProperty(t))return;n[t]=e[t]}}),n}function a(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a="",i=n.charCodeAt(0);++r<o;){if(0===(t=n.charCodeAt(r)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=1<=t&&t<=31||127==t||0===r&&48<=t&&t<=57||1===r&&48<=t&&t<=57&&45===i?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(r):"\\"+n.charAt(r)}return"#"+a}function C(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}function L(e,t,n,o){if(t.emitEvents&&"function"==typeof A.CustomEvent){var r=new CustomEvent(e,{bubbles:!0,detail:{anchor:n,toggle:o}});document.dispatchEvent(r)}}var q={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0};return function(o,e){var E,r,w,O,M={cancelScroll:function(e){cancelAnimationFrame(O),O=null,e||L("scrollCancel",E)}};M.animateScroll=function(i,c,e){M.cancelScroll();var u=I(E||q,e||{}),s="[object Number]"===Object.prototype.toString.call(i),t=s||!i.tagName?null:i;if(s||t){var l=A.pageYOffset;u.header&&!w&&(w=document.querySelector(u.header));var n,o,r,f,a,d,m,h,p=function(e){return e?(t=e,parseInt(A.getComputedStyle(t).height,10)+e.offsetTop):0;var t}(w),y=s?i:function(e,t,n,o){var r=0;if(e.offsetParent)for(;r+=e.offsetTop,e=e.offsetParent;);return r=Math.max(r-t-n,0),o&&(r=Math.min(r,C()-A.innerHeight)),r}(t,p,parseInt("function"==typeof u.offset?u.offset(i,c):u.offset,10),u.clip),g=y-l,v=C(),S=0,b=(n=g,r=(o=u).speedAsDuration?o.speed:Math.abs(n/1e3*o.speed),o.durationMax&&r>o.durationMax?o.durationMax:o.durationMin&&r<o.durationMin?o.durationMin:parseInt(r,10));0===A.pageYOffset&&A.scrollTo(0,0),m=i,h=u,s||history.pushState&&h.updateURL&&history.pushState({smoothScroll:JSON.stringify(h),anchor:m.id},document.title,m===document.documentElement?"#top":"#"+m.id),"matchMedia"in A&&A.matchMedia("(prefers-reduced-motion)").matches?A.scrollTo(0,Math.floor(y)):(L("scrollStart",u,i,c),M.cancelScroll(!0),A.requestAnimationFrame(function e(t){var n,o,r;S+=t-(f=f||t),d=l+g*(o=a=1<(a=0===b?0:S/b)?1:a,"easeInQuad"===(n=u).easing&&(r=o*o),"easeOutQuad"===n.easing&&(r=o*(2-o)),"easeInOutQuad"===n.easing&&(r=o<.5?2*o*o:(4-2*o)*o-1),"easeInCubic"===n.easing&&(r=o*o*o),"easeOutCubic"===n.easing&&(r=--o*o*o+1),"easeInOutCubic"===n.easing&&(r=o<.5?4*o*o*o:(o-1)*(2*o-2)*(2*o-2)+1),"easeInQuart"===n.easing&&(r=o*o*o*o),"easeOutQuart"===n.easing&&(r=1- --o*o*o*o),"easeInOutQuart"===n.easing&&(r=o<.5?8*o*o*o*o:1-8*--o*o*o*o),"easeInQuint"===n.easing&&(r=o*o*o*o*o),"easeOutQuint"===n.easing&&(r=1+--o*o*o*o*o),"easeInOutQuint"===n.easing&&(r=o<.5?16*o*o*o*o*o:1+16*--o*o*o*o*o),n.customEasing&&(r=n.customEasing(o)),r||o),A.scrollTo(0,Math.floor(d)),function(e,t){var n,o,r,a=A.pageYOffset;if(e==t||a==t||(l<t&&A.innerHeight+a)>=v)return M.cancelScroll(!0),o=t,r=s,0===(n=i)&&document.body.focus(),r||(n.focus(),document.activeElement!==n&&(n.setAttribute("tabindex","-1"),n.focus(),n.style.outline="none"),A.scrollTo(0,o)),L("scrollStop",u,i,c),!(O=f=null)}(d,y)||(O=A.requestAnimationFrame(e),f=t)}))}};function t(e){if(!e.defaultPrevented&&!(0!==e.button||e.metaKey||e.ctrlKey||e.shiftKey)&&"closest"in e.target&&(r=e.target.closest(o))&&"a"===r.tagName.toLowerCase()&&!e.target.closest(E.ignore)&&r.hostname===A.location.hostname&&r.pathname===A.location.pathname&&/#/.test(r.href)){var t,n;try{t=a(decodeURIComponent(r.hash))}catch(e){t=a(r.hash)}if(console.log(t),"#"===t){if(!E.topOnEmptyHash)return;n=document.documentElement}else n=document.querySelector(t);(n=n||"#top"!==t?n:document.documentElement)&&(e.preventDefault(),function(e){if(history.replaceState&&e.updateURL&&!history.state){var t=A.location.hash;t=t||"",history.replaceState({smoothScroll:JSON.stringify(e),anchor:t||A.pageYOffset},document.title,t||A.location.href)}}(E),M.animateScroll(n,r))}}function n(e){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(E)){var t=history.state.anchor;"string"==typeof t&&t&&!(t=document.querySelector(a(history.state.anchor)))||M.animateScroll(t,null,{updateURL:!1})}}return M.destroy=function(){E&&(document.removeEventListener("click",t,!1),A.removeEventListener("popstate",n,!1),M.cancelScroll(),O=w=r=E=null)},function(){if(!("querySelector"in document&&"addEventListener"in A&&"requestAnimationFrame"in A&&"closest"in A.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";M.destroy(),E=I(q,e||{}),w=E.header?document.querySelector(E.header):null,document.addEventListener("click",t,!1),E.updateURL&&E.popstate&&A.addEventListener("popstate",n,!1)}(),M}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzbW9vdGgtc2Nyb2xsLmpzIl0sIm5hbWVzIjpbImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImtleSIsImFyZyIsImluZm8iLCJ2YWx1ZSIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJmbiIsInNlbGYiLCJ0aGlzIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJTbW9vdGhTY3JvbGwiLCJzcGVlZCIsIndpbmRvdyIsIm9ubG9hZCIsInNlY3Rpb25JZCIsImxvY2F0aW9uIiwiaGFzaCIsIlYiLCJ3IiwicGFnZVlPZmZzZXQiLCJyZXBsYWNlIiwidCIsInF1ZXJ5U2VsZWN0b3IiLCJjb25jYXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJzdGFydCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInN0ZXAiLCJ0aW1lIiwicHJvZ3Jlc3MiLCJyIiwiTWF0aCIsIm1heCIsIm1pbiIsInNjcm9sbFRvIiwiZSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJnbG9iYWwiLCJIIiwibiIsIkFycmF5IiwiZm9yRWFjaCIsImNhbGwiLCJoYXNPd25Qcm9wZXJ0eSIsImNoYXJBdCIsInN1YnN0ciIsIlN0cmluZyIsIm8iLCJsZW5ndGgiLCJhIiwiaSIsImNoYXJDb2RlQXQiLCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiLCJ0b1N0cmluZyIsInEiLCJib2R5Iiwic2Nyb2xsSGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50Iiwib2Zmc2V0SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiUSIsImVtaXRFdmVudHMiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJkZXRhaWwiLCJhbmNob3IiLCJ0b2dnbGUiLCJkaXNwYXRjaEV2ZW50IiwiTCIsImlnbm9yZSIsImhlYWRlciIsInRvcE9uRW1wdHlIYXNoIiwic3BlZWRBc0R1cmF0aW9uIiwiZHVyYXRpb25NYXgiLCJkdXJhdGlvbk1pbiIsImNsaXAiLCJvZmZzZXQiLCJlYXNpbmciLCJjdXN0b21FYXNpbmciLCJ1cGRhdGVVUkwiLCJwb3BzdGF0ZSIsIkkiLCJNIiwiQSIsIkMiLCJjYW5jZWxTY3JvbGwiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImFuaW1hdGVTY3JvbGwiLCJzIiwiYyIsInUiLCJPYmplY3QiLCJ0YWdOYW1lIiwibCIsImQiLCJmIiwibSIsImgiLCJwIiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwiaGVpZ2h0Iiwib2Zmc2V0VG9wIiwieCIsImciLCJvZmZzZXRQYXJlbnQiLCJpbm5lckhlaWdodCIsInkiLCJ2IiwiUyIsIkUiLCJhYnMiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwic21vb3RoU2Nyb2xsIiwiSlNPTiIsInN0cmluZ2lmeSIsImlkIiwidGl0bGUiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImZsb29yIiwiTyIsImZvY3VzIiwiYWN0aXZlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwib3V0bGluZSIsImIiLCJkZWZhdWx0UHJldmVudGVkIiwiYnV0dG9uIiwibWV0YUtleSIsImN0cmxLZXkiLCJzaGlmdEtleSIsInRhcmdldCIsImNsb3Nlc3QiLCJ0b0xvd2VyQ2FzZSIsImhvc3RuYW1lIiwicGF0aG5hbWUiLCJ0ZXN0IiwiaHJlZiIsImRlY29kZVVSSUNvbXBvbmVudCIsImNvbnNvbGUiLCJsb2ciLCJwcmV2ZW50RGVmYXVsdCIsInJlcGxhY2VTdGF0ZSIsInN0YXRlIiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJFbGVtZW50Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLFNBQUFBLG1CQUFBQyxFQUFB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O1xuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGlzRW1wdHkoc3RyKSB7XG4gICAgaWYgKHN0ci50cmltKCkgPT0gXCJcIikgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHNjcm9sbEFuY2hvcnMgPSBuZXcgU21vb3RoU2Nyb2xsKCdhW2hyZWYqPVwiI1wiXScsIHtcbiAgICBzcGVlZDogMzAwXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGYoKSB7XG4gICAgcmV0dXJuIF9mLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfZigpIHtcbiAgICBfZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBQcm9taXNlLnJlc29sdmUoMSkpO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIF9mLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbn0pO1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZWxvYWRlclwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICB2YXIgc2VjdGlvbklkID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cbiAgaWYgKHNlY3Rpb25JZCkge1xuICAgIC8vINC/0L7QtNGA0L7QsdC90LXQtSDQv9GA0L4g0YTRg9C90LrRhtC40Y4g0LDQvdC40LzQsNGG0LjQuCBbZGV2ZWxvcGVyLm1vemlsbGEub3JnXVxuICAgIHZhciBzdGVwID0gZnVuY3Rpb24gc3RlcCh0aW1lKSB7XG4gICAgICBpZiAoc3RhcnQgPT09IG51bGwpIHN0YXJ0ID0gdGltZTtcbiAgICAgIHZhciBwcm9ncmVzcyA9IHRpbWUgLSBzdGFydCxcbiAgICAgICAgICByID0gdCA8IDAgPyBNYXRoLm1heCh3IC0gcHJvZ3Jlc3MgLyBWLCB3ICsgdCkgOiBNYXRoLm1pbih3ICsgcHJvZ3Jlc3MgLyBWLCB3ICsgdCk7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgcik7XG5cbiAgICAgIGlmIChyICE9IHcgKyB0KSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOyAvLyBVUkwg0YEg0YXRjdGI0LXQvFxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgViA9IDAuMDE7XG4gICAgdmFyIHcgPSB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgIC8vINC/0YDQvtC40LfQstC+0LTQuNC8INC/0YDQvtC60YDRg9GC0LrRg1xuICAgIGhhc2ggPSBzZWN0aW9uSWQucmVwbGFjZSgvW14jXSooLiopLywgXCIkMVwiKSxcbiAgICAgICAgLy8g0LogaWQg0Y3Qu9C10LzQtdC90YLQsCwg0Log0LrQvtGC0L7RgNC+0LzRgyDQvdGD0LbQvdC+INC/0LXRgNC10LnRgtC4XG4gICAgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQoc2VjdGlvbklkKSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLFxuICAgICAgICAvLyDQvtGC0YHRgtGD0L8g0L7RgiDQvtC60L3QsCDQsdGA0LDRg9C30LXRgNCwINC00L4gaWRcbiAgICBzdGFydCA9IG51bGw7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8qISBzbW9vdGgtc2Nyb2xsIHYxNi4xLjEgfCAoYykgMjAxOSBDaHJpcyBGZXJkaW5hbmRpIHwgTUlUIExpY2Vuc2UgfCBodHRwOi8vZ2l0aHViLmNvbS9jZmVyZGluYW5kaS9zbW9vdGgtc2Nyb2xsICovXG4hZnVuY3Rpb24gKGUsIHQpIHtcbiAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0KGUpO1xuICB9KSA6IFwib2JqZWN0XCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpID8gbW9kdWxlLmV4cG9ydHMgPSB0KGUpIDogZS5TbW9vdGhTY3JvbGwgPSB0KGUpO1xufShcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBnbG9iYWwgPyBnbG9iYWwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB2b2lkIDAsIGZ1bmN0aW9uICh3KSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBMID0ge1xuICAgIGlnbm9yZTogXCJbZGF0YS1zY3JvbGwtaWdub3JlXVwiLFxuICAgIGhlYWRlcjogbnVsbCxcbiAgICB0b3BPbkVtcHR5SGFzaDogITAsXG4gICAgc3BlZWQ6IDUwMCxcbiAgICBzcGVlZEFzRHVyYXRpb246ICExLFxuICAgIGR1cmF0aW9uTWF4OiBudWxsLFxuICAgIGR1cmF0aW9uTWluOiBudWxsLFxuICAgIGNsaXA6ICEwLFxuICAgIG9mZnNldDogMCxcbiAgICBlYXNpbmc6IFwiZWFzZUluT3V0Q3ViaWNcIixcbiAgICBjdXN0b21FYXNpbmc6IG51bGwsXG4gICAgdXBkYXRlVVJMOiAhMCxcbiAgICBwb3BzdGF0ZTogITAsXG4gICAgZW1pdEV2ZW50czogITBcbiAgfSxcbiAgICAgIEggPSBmdW5jdGlvbiBIKCkge1xuICAgIHZhciBuID0ge307XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYXJndW1lbnRzLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZm9yICh2YXIgdCBpbiBlKSB7XG4gICAgICAgIGlmICghZS5oYXNPd25Qcm9wZXJ0eSh0KSkgcmV0dXJuO1xuICAgICAgICBuW3RdID0gZVt0XTtcbiAgICAgIH1cbiAgICB9KSwgbjtcbiAgfSxcbiAgICAgIHIgPSBmdW5jdGlvbiByKGUpIHtcbiAgICBcIiNcIiA9PT0gZS5jaGFyQXQoMCkgJiYgKGUgPSBlLnN1YnN0cigxKSk7XG5cbiAgICBmb3IgKHZhciB0LCBuID0gU3RyaW5nKGUpLCBvID0gbi5sZW5ndGgsIGEgPSAtMSwgciA9IFwiXCIsIGkgPSBuLmNoYXJDb2RlQXQoMCk7ICsrYSA8IG87KSB7XG4gICAgICBpZiAoMCA9PT0gKHQgPSBuLmNoYXJDb2RlQXQoYSkpKSB0aHJvdyBuZXcgSW52YWxpZENoYXJhY3RlckVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXI6IHRoZSBpbnB1dCBjb250YWlucyBVKzAwMDAuXCIpO1xuICAgICAgMSA8PSB0ICYmIHQgPD0gMzEgfHwgMTI3ID09IHQgfHwgMCA9PT0gYSAmJiA0OCA8PSB0ICYmIHQgPD0gNTcgfHwgMSA9PT0gYSAmJiA0OCA8PSB0ICYmIHQgPD0gNTcgJiYgNDUgPT09IGkgPyByICs9IFwiXFxcXFwiICsgdC50b1N0cmluZygxNikgKyBcIiBcIiA6IHIgKz0gMTI4IDw9IHQgfHwgNDUgPT09IHQgfHwgOTUgPT09IHQgfHwgNDggPD0gdCAmJiB0IDw9IDU3IHx8IDY1IDw9IHQgJiYgdCA8PSA5MCB8fCA5NyA8PSB0ICYmIHQgPD0gMTIyID8gbi5jaGFyQXQoYSkgOiBcIlxcXFxcIiArIG4uY2hhckF0KGEpO1xuICAgIH1cblxuICAgIHJldHVybiBcIiNcIiArIHI7XG4gIH0sXG4gICAgICBxID0gZnVuY3Rpb24gcSgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCk7XG4gIH0sXG4gICAgICB4ID0gZnVuY3Rpb24geChlKSB7XG4gICAgcmV0dXJuIGUgPyAodCA9IGUsIHBhcnNlSW50KHcuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5oZWlnaHQsIDEwKSArIGUub2Zmc2V0VG9wKSA6IDA7XG4gICAgdmFyIHQ7XG4gIH0sXG4gICAgICBRID0gZnVuY3Rpb24gUShlLCB0LCBuLCBvKSB7XG4gICAgaWYgKHQuZW1pdEV2ZW50cyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHcuQ3VzdG9tRXZlbnQpIHtcbiAgICAgIHZhciBhID0gbmV3IEN1c3RvbUV2ZW50KGUsIHtcbiAgICAgICAgYnViYmxlczogITAsXG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIGFuY2hvcjogbixcbiAgICAgICAgICB0b2dnbGU6IG9cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGEpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKG8sIGUpIHtcbiAgICB2YXIgSSxcbiAgICAgICAgYSxcbiAgICAgICAgTSxcbiAgICAgICAgQSxcbiAgICAgICAgQyA9IHt9O1xuICAgIEMuY2FuY2VsU2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKEEpLCBBID0gbnVsbCwgZSB8fCBRKFwic2Nyb2xsQ2FuY2VsXCIsIEkpO1xuICAgIH0sIEMuYW5pbWF0ZVNjcm9sbCA9IGZ1bmN0aW9uIChpLCBzLCBlKSB7XG4gICAgICBDLmNhbmNlbFNjcm9sbCgpO1xuICAgICAgdmFyIGMgPSBIKEkgfHwgTCwgZSB8fCB7fSksXG4gICAgICAgICAgdSA9IFwiW29iamVjdCBOdW1iZXJdXCIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKSxcbiAgICAgICAgICB0ID0gdSB8fCAhaS50YWdOYW1lID8gbnVsbCA6IGk7XG5cbiAgICAgIGlmICh1IHx8IHQpIHtcbiAgICAgICAgdmFyIGwgPSB3LnBhZ2VZT2Zmc2V0O1xuICAgICAgICBjLmhlYWRlciAmJiAhTSAmJiAoTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYy5oZWFkZXIpKTtcblxuICAgICAgICB2YXIgbixcbiAgICAgICAgICAgIG8sXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgbSxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICBwID0geChNKSxcbiAgICAgICAgICAgIGcgPSB1ID8gaSA6IGZ1bmN0aW9uIChlLCB0LCBuLCBvKSB7XG4gICAgICAgICAgdmFyIGEgPSAwO1xuICAgICAgICAgIGlmIChlLm9mZnNldFBhcmVudCkgZm9yICg7IGEgKz0gZS5vZmZzZXRUb3AsIGUgPSBlLm9mZnNldFBhcmVudDspIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGEgPSBNYXRoLm1heChhIC0gdCAtIG4sIDApLCBvICYmIChhID0gTWF0aC5taW4oYSwgcSgpIC0gdy5pbm5lckhlaWdodCkpLCBhO1xuICAgICAgICB9KHQsIHAsIHBhcnNlSW50KFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYy5vZmZzZXQgPyBjLm9mZnNldChpLCBzKSA6IGMub2Zmc2V0LCAxMCksIGMuY2xpcCksXG4gICAgICAgICAgICB5ID0gZyAtIGwsXG4gICAgICAgICAgICB2ID0gcSgpLFxuICAgICAgICAgICAgUyA9IDAsXG4gICAgICAgICAgICBFID0gKG4gPSB5LCBhID0gKG8gPSBjKS5zcGVlZEFzRHVyYXRpb24gPyBvLnNwZWVkIDogTWF0aC5hYnMobiAvIDFlMyAqIG8uc3BlZWQpLCBvLmR1cmF0aW9uTWF4ICYmIGEgPiBvLmR1cmF0aW9uTWF4ID8gby5kdXJhdGlvbk1heCA6IG8uZHVyYXRpb25NaW4gJiYgYSA8IG8uZHVyYXRpb25NaW4gPyBvLmR1cmF0aW9uTWluIDogcGFyc2VJbnQoYSwgMTApKSxcbiAgICAgICAgICAgIGIgPSBmdW5jdGlvbiBiKGUsIHQpIHtcbiAgICAgICAgICB2YXIgbixcbiAgICAgICAgICAgICAgbyxcbiAgICAgICAgICAgICAgYSxcbiAgICAgICAgICAgICAgciA9IHcucGFnZVlPZmZzZXQ7XG4gICAgICAgICAgaWYgKGUgPT0gdCB8fCByID09IHQgfHwgKGwgPCB0ICYmIHcuaW5uZXJIZWlnaHQgKyByKSA+PSB2KSByZXR1cm4gQy5jYW5jZWxTY3JvbGwoITApLCBvID0gdCwgYSA9IHUsIDAgPT09IChuID0gaSkgJiYgZG9jdW1lbnQuYm9keS5mb2N1cygpLCBhIHx8IChuLmZvY3VzKCksIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IG4gJiYgKG4uc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCItMVwiKSwgbi5mb2N1cygpLCBuLnN0eWxlLm91dGxpbmUgPSBcIm5vbmVcIiksIHcuc2Nyb2xsVG8oMCwgbykpLCBRKFwic2Nyb2xsU3RvcFwiLCBjLCBpLCBzKSwgIShBID0gZCA9IG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICAgICAgTyA9IGZ1bmN0aW9uIE8oZSkge1xuICAgICAgICAgIHZhciB0LCBuLCBvO1xuICAgICAgICAgIGQgfHwgKGQgPSBlKSwgUyArPSBlIC0gZCwgZiA9IGwgKyB5ICogKG4gPSByID0gMSA8IChyID0gMCA9PT0gRSA/IDAgOiBTIC8gRSkgPyAxIDogciwgXCJlYXNlSW5RdWFkXCIgPT09ICh0ID0gYykuZWFzaW5nICYmIChvID0gbiAqIG4pLCBcImVhc2VPdXRRdWFkXCIgPT09IHQuZWFzaW5nICYmIChvID0gbiAqICgyIC0gbikpLCBcImVhc2VJbk91dFF1YWRcIiA9PT0gdC5lYXNpbmcgJiYgKG8gPSBuIDwgMC41ID8gMiAqIG4gKiBuIDogKDQgLSAyICogbikgKiBuIC0gMSksIFwiZWFzZUluQ3ViaWNcIiA9PT0gdC5lYXNpbmcgJiYgKG8gPSBuICogbiAqIG4pLCBcImVhc2VPdXRDdWJpY1wiID09PSB0LmVhc2luZyAmJiAobyA9IC0tbiAqIG4gKiBuICsgMSksIFwiZWFzZUluT3V0Q3ViaWNcIiA9PT0gdC5lYXNpbmcgJiYgKG8gPSBuIDwgMC41ID8gNCAqIG4gKiBuICogbiA6IChuIC0gMSkgKiAoMiAqIG4gLSAyKSAqICgyICogbiAtIDIpICsgMSksIFwiZWFzZUluUXVhcnRcIiA9PT0gdC5lYXNpbmcgJiYgKG8gPSBuICogbiAqIG4gKiBuKSwgXCJlYXNlT3V0UXVhcnRcIiA9PT0gdC5lYXNpbmcgJiYgKG8gPSAxIC0gLS1uICogbiAqIG4gKiBuKSwgXCJlYXNlSW5PdXRRdWFydFwiID09PSB0LmVhc2luZyAmJiAobyA9IG4gPCAwLjUgPyA4ICogbiAqIG4gKiBuICogbiA6IDEgLSA4ICogLS1uICogbiAqIG4gKiBuKSwgXCJlYXNlSW5RdWludFwiID09PSB0LmVhc2luZyAmJiAobyA9IG4gKiBuICogbiAqIG4gKiBuKSwgXCJlYXNlT3V0UXVpbnRcIiA9PT0gdC5lYXNpbmcgJiYgKG8gPSAxICsgLS1uICogbiAqIG4gKiBuICogbiksIFwiZWFzZUluT3V0UXVpbnRcIiA9PT0gdC5lYXNpbmcgJiYgKG8gPSBuIDwgMC41ID8gMTYgKiBuICogbiAqIG4gKiBuICogbiA6IDEgKyAxNiAqIC0tbiAqIG4gKiBuICogbiAqIG4pLCB0LmN1c3RvbUVhc2luZyAmJiAobyA9IHQuY3VzdG9tRWFzaW5nKG4pKSwgbyB8fCBuKSwgdy5zY3JvbGxUbygwLCBNYXRoLmZsb29yKGYpKSwgYihmLCBnKSB8fCAoQSA9IHcucmVxdWVzdEFuaW1hdGlvbkZyYW1lKE8pLCBkID0gZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgMCA9PT0gdy5wYWdlWU9mZnNldCAmJiB3LnNjcm9sbFRvKDAsIDApLCBtID0gaSwgaCA9IGMsIHUgfHwgaGlzdG9yeS5wdXNoU3RhdGUgJiYgaC51cGRhdGVVUkwgJiYgaGlzdG9yeS5wdXNoU3RhdGUoe1xuICAgICAgICAgIHNtb290aFNjcm9sbDogSlNPTi5zdHJpbmdpZnkoaCksXG4gICAgICAgICAgYW5jaG9yOiBtLmlkXG4gICAgICAgIH0sIGRvY3VtZW50LnRpdGxlLCBtID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyBcIiN0b3BcIiA6IFwiI1wiICsgbS5pZCksIFwibWF0Y2hNZWRpYVwiIGluIHcgJiYgdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb24pXCIpLm1hdGNoZXMgPyB3LnNjcm9sbFRvKDAsIE1hdGguZmxvb3IoZykpIDogKFEoXCJzY3JvbGxTdGFydFwiLCBjLCBpLCBzKSwgQy5jYW5jZWxTY3JvbGwoITApLCB3LnJlcXVlc3RBbmltYXRpb25GcmFtZShPKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciB0ID0gZnVuY3Rpb24gdChlKSB7XG4gICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCAmJiAhKDAgIT09IGUuYnV0dG9uIHx8IGUubWV0YUtleSB8fCBlLmN0cmxLZXkgfHwgZS5zaGlmdEtleSkgJiYgXCJjbG9zZXN0XCIgaW4gZS50YXJnZXQgJiYgKGEgPSBlLnRhcmdldC5jbG9zZXN0KG8pKSAmJiBcImFcIiA9PT0gYS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgJiYgIWUudGFyZ2V0LmNsb3Nlc3QoSS5pZ25vcmUpICYmIGEuaG9zdG5hbWUgPT09IHcubG9jYXRpb24uaG9zdG5hbWUgJiYgYS5wYXRobmFtZSA9PT0gdy5sb2NhdGlvbi5wYXRobmFtZSAmJiAvIy8udGVzdChhLmhyZWYpKSB7XG4gICAgICAgIHZhciB0LCBuO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdCA9IHIoZGVjb2RlVVJJQ29tcG9uZW50KGEuaGFzaCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdCA9IHIoYS5oYXNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25zb2xlLmxvZyh0KSwgXCIjXCIgPT09IHQpIHtcbiAgICAgICAgICBpZiAoIUkudG9wT25FbXB0eUhhc2gpIHJldHVybjtcbiAgICAgICAgICBuID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk7XG5cbiAgICAgICAgKG4gPSBuIHx8IFwiI3RvcFwiICE9PSB0ID8gbiA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoaGlzdG9yeS5yZXBsYWNlU3RhdGUgJiYgZS51cGRhdGVVUkwgJiYgIWhpc3Rvcnkuc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdy5sb2NhdGlvbi5oYXNoO1xuICAgICAgICAgICAgdCA9IHQgfHwgXCJcIiwgaGlzdG9yeS5yZXBsYWNlU3RhdGUoe1xuICAgICAgICAgICAgICBzbW9vdGhTY3JvbGw6IEpTT04uc3RyaW5naWZ5KGUpLFxuICAgICAgICAgICAgICBhbmNob3I6IHQgfHwgdy5wYWdlWU9mZnNldFxuICAgICAgICAgICAgfSwgZG9jdW1lbnQudGl0bGUsIHQgfHwgdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0oSSksIEMuYW5pbWF0ZVNjcm9sbChuLCBhKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAgICAgbiA9IGZ1bmN0aW9uIG4oZSkge1xuICAgICAgaWYgKG51bGwgIT09IGhpc3Rvcnkuc3RhdGUgJiYgaGlzdG9yeS5zdGF0ZS5zbW9vdGhTY3JvbGwgJiYgaGlzdG9yeS5zdGF0ZS5zbW9vdGhTY3JvbGwgPT09IEpTT04uc3RyaW5naWZ5KEkpKSB7XG4gICAgICAgIHZhciB0ID0gaGlzdG9yeS5zdGF0ZS5hbmNob3I7XG4gICAgICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgJiYgdCAmJiAhKHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHIoaGlzdG9yeS5zdGF0ZS5hbmNob3IpKSkgfHwgQy5hbmltYXRlU2Nyb2xsKHQsIG51bGwsIHtcbiAgICAgICAgICB1cGRhdGVVUkw6ICExXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBJICYmIChkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdCwgITEpLCB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBuLCAhMSksIEMuY2FuY2VsU2Nyb2xsKCksIEEgPSBNID0gYSA9IEkgPSBudWxsKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghKFwicXVlcnlTZWxlY3RvclwiIGluIGRvY3VtZW50ICYmIFwiYWRkRXZlbnRMaXN0ZW5lclwiIGluIHcgJiYgXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiBpbiB3ICYmIFwiY2xvc2VzdFwiIGluIHcuRWxlbWVudC5wcm90b3R5cGUpKSB0aHJvdyBcIlNtb290aCBTY3JvbGw6IFRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSByZXF1aXJlZCBKYXZhU2NyaXB0IG1ldGhvZHMgYW5kIGJyb3dzZXIgQVBJcy5cIjtcbiAgICAgIEMuZGVzdHJveSgpLCBJID0gSChMLCBlIHx8IHt9KSwgTSA9IEkuaGVhZGVyID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihJLmhlYWRlcikgOiBudWxsLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdCwgITEpLCBJLnVwZGF0ZVVSTCAmJiBJLnBvcHN0YXRlICYmIHcuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIG4sICExKTtcbiAgICB9KCksIEM7XG4gIH07XG59KTsiXX0=
